# Bug ä¿®å¤æ€»ç»“

## âœ… ç»“è®º

**è¿™æ˜¯ä¸€ä¸ªå·²ç¡®è®¤çš„ Clawdbot Bugï¼Œå·²åœ¨åç»­ç‰ˆæœ¬ä¸­ä¿®å¤ã€‚**

---

## ğŸ› Bug ä¿¡æ¯

| é¡¹ç›® | è¯¦æƒ… |
|------|------|
| **Bug ç±»å‹** | å·¥ä½œç©ºé—´æ¨¡æ¿è·¯å¾„è§£æé”™è¯¯ |
| **å—å½±å“ç‰ˆæœ¬** | v2026.1.24, v2026.1.24-1 |
| **ä¿®å¤ç‰ˆæœ¬** | v2026.1.30+ (2026-01-31) |
| **ä¿®å¤æäº¤** | ddc5683c6 |
| **ä½œè€…** | Peter Steinberger |
| **ä½ çš„ç‰ˆæœ¬** | v2026.1.24-1 âŒ (ä¸åŒ…å«ä¿®å¤) |

---

## ğŸ“‹ é—®é¢˜æè¿°

å½“ Gateway å¯åŠ¨å¤±è´¥æ—¶ï¼ŒClawdbot fallback åˆ° embedded æ¨¡å¼ï¼Œä½† embedded æ¨¡å¼æ— æ³•æ­£ç¡®è§£ææ¨¡æ¿æ–‡ä»¶è·¯å¾„ï¼Œå¯¼è‡´æŠ¥é”™ï¼š

```
Missing workspace template: AGENTS.md (/home/tsl/docs/reference/templates/AGENTS.md)
```

**é”™è¯¯è·¯å¾„**: `/home/tsl/docs/reference/templates/AGENTS.md` (ä¸å­˜åœ¨)
**æ­£ç¡®è·¯å¾„**: `/usr/lib/node_modules/clawdbot/docs/reference/templates/AGENTS.md` (å­˜åœ¨)

---

## ğŸ”§ ä¿®å¤å†…å®¹

### æ–°å¢æ–‡ä»¶
- `src/agents/workspace-templates.ts` - æ™ºèƒ½è·¯å¾„è§£ææ¨¡å—

### ä¿®å¤é€»è¾‘
1. âœ… ä½¿ç”¨ `resolveOpenClawPackageRoot()` å®šä½åŒ…æ ¹ç›®å½•
2. âœ… å°è¯•å¤šä¸ªå€™é€‰è·¯å¾„ï¼ˆpackage rootã€cwdã€fallbackï¼‰
3. âœ… éªŒè¯è·¯å¾„å­˜åœ¨æ€§
4. âœ… ç¼“å­˜è§£æç»“æœ

---

## ğŸ¯ è§£å†³æ–¹æ¡ˆ

### æ¨èæ–¹æ¡ˆï¼šå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬

```bash
# å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ˆåŒ…å«ä¿®å¤ï¼‰
sudo npm install -g clawdbot@latest

# éªŒè¯ç‰ˆæœ¬
clawdbot --version
```

**é¢„æœŸç‰ˆæœ¬**: v2026.2.3 æˆ–æ›´é«˜

---

### ä¸´æ—¶æ–¹æ¡ˆï¼šä¿®å¤ Gateway é—®é¢˜

```bash
# æ€æ­»æ—§è¿›ç¨‹
kill -9 97715

# é‡å¯ Gateway
clawdbot gateway stop
clawdbot gateway start

# éªŒè¯çŠ¶æ€
clawdbot gateway status
```

**æ³¨æ„**: è¿™åªæ˜¯ç»•è¿‡ bugï¼Œä¸è§£å†³æ ¹æœ¬é—®é¢˜ã€‚

---

### æ›¿ä»£æ–¹æ¡ˆï¼šç›´æ¥ä½¿ç”¨ Ollama

```bash
# å¯¹äºç®€å•æŸ¥è¯¢ï¼Œç›´æ¥ä½¿ç”¨ Ollamaï¼ˆæœ€å¿«ï¼‰
ollama run qwen2.5:3b "ä½ çš„é—®é¢˜"
```

**æ€§èƒ½**: 8.7ç§’ (Ollama) vs >90ç§’ (Clawdbot)

---

## ğŸ“Š ç‰ˆæœ¬å¯¹æ¯”

| ç‰ˆæœ¬ | å‘å¸ƒæ—¥æœŸ | åŒ…å«ä¿®å¤ | çŠ¶æ€ |
|------|---------|---------|------|
| v2026.1.24-1 | 2026-01-24 | âŒ | ä½ çš„å½“å‰ç‰ˆæœ¬ |
| v2026.1.30 | 2026-01-31 | âœ… | é¦–ä¸ªä¿®å¤ç‰ˆæœ¬ |
| v2026.2.1 | 2026-02-02 | âœ… | ç¨³å®šç‰ˆ |
| v2026.2.3 | 2026-02-04 | âœ… | æœ€æ–°ç¨³å®šç‰ˆ |

**ç‰ˆæœ¬å·®è·**: 499 ä¸ªæäº¤

---

## ğŸ” ä½ çš„é—®é¢˜åˆ†æ

ä½ é‡åˆ°çš„æ˜¯ **ä¸¤ä¸ªç‹¬ç«‹é—®é¢˜çš„ç»„åˆ**ï¼š

### é—®é¢˜ 1: Gateway ç«¯å£å†²çª
```
Port 18789 is already in use (PID 97715)
```
**åŸå› **: æ—§çš„ Gateway è¿›ç¨‹æœªæ­£ç¡®å…³é—­
**è§£å†³**: `kill -9 97715`

### é—®é¢˜ 2: æ¨¡æ¿è·¯å¾„ Bug (v2026.1.24-1)
```
Missing workspace template: AGENTS.md
```
**åŸå› **: ç‰ˆæœ¬ bugï¼ˆè·¯å¾„è§£æé”™è¯¯ï¼‰
**è§£å†³**: å‡çº§åˆ° v2026.1.30+

### é—®é¢˜é“¾
```
Gateway ç«¯å£å†²çª â†’ Gateway å¯åŠ¨å¤±è´¥ â†’ Fallback åˆ° embedded
                                              â†“
                                    æ¨¡æ¿è·¯å¾„ bug â†’ å®Œå…¨å¤±è´¥
```

---

## ğŸ“ å»ºè®®è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œï¼ˆè§£å†³ Gateway é—®é¢˜ï¼‰
```bash
kill -9 97715
clawdbot gateway stop
clawdbot gateway start
```

### é•¿æœŸæ–¹æ¡ˆï¼ˆè§£å†³ Bugï¼‰
```bash
sudo npm install -g clawdbot@latest
```

### éªŒè¯ä¿®å¤
```bash
# æ£€æŸ¥ç‰ˆæœ¬
clawdbot --version

# æµ‹è¯• Clawdbot
clawdbot agent --agent main --message "æµ‹è¯•" --thinking low
```

---

## ğŸ‰ æ€»ç»“

1. âœ… **ç¡®è®¤æ˜¯ Bug**: å·¥ä½œç©ºé—´æ¨¡æ¿è·¯å¾„è§£æé”™è¯¯
2. âœ… **å·²ä¿®å¤**: v2026.1.30 (2026-01-31)
3. âœ… **ä½ çš„ç‰ˆæœ¬**: v2026.1.24-1 (ä¸åŒ…å«ä¿®å¤)
4. âœ… **æ¨è**: å‡çº§åˆ° v2026.2.3 æˆ–æ›´é«˜
5. âœ… **ä¸´æ—¶**: ä¿®å¤ Gateway ç«¯å£å†²çª + ç›´æ¥ä½¿ç”¨ Ollama

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- è¯¦ç»†åˆ†æ: `~/clawdbot-bug-analysis.md`
- æ€§èƒ½å¯¹æ¯”: `~/clawdbot-test-comparison.md`
- é”™è¯¯åˆ†æ: `~/clawdbot-error-analysis.md`
- ä¿®å¤æäº¤: https://github.com/clawdbot/clawdbot/commit/ddc5683c6
